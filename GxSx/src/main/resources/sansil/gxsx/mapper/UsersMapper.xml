<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="sansil.gxsx.mapper.UsersMapper">
	
	<select id="selectPerPage" resultType="Users" parameterType="UsersVo">
	    <![CDATA[
		select * from (select ROWNUM rnum, aa.* from (select * from USERS order by USERSID desc) aa) 
		where rnum between #{start} and #{last}
		]]>
	</select>
	
	<select id="listLostitem" resultType="Users">
		select * from lostitem where LOUID = 'mondaygirl'
	</select>
	
	<select id="selectCount" resultType="long">
		select COUNT(usersid) from users
	</select>
	
	<select id="listFinditem" resultType="Users">
		select * from finditem where FIUID = 'mondaygirl'
	</select>
	
	<delete id="delete" parameterType="String">
		delete from USERSID where UserId= 'mondaygirl'
	</delete>
	
	<delete id="deleteAll">
	     delete from USERSID
	</delete>
	
	<select id="selectCountLostItem" resultType="long" parameterType="String">
		select count(*) from LOSTITEM item join LOSTPIC pic on item.LONO = pic.LOPNO where
		LOUID=#{query}
	</select>
	
	<select id="selectCountFindItem" resultType="long" parameterType="String">
		select count(*) from FINDITEM item join FINDPIC pic on item.FINO = pic.FIPNO where
		FIUID=#{query}
	</select>
	
	<select id="lostList" resultType="LostListVo" parameterType="LostListVo">
	    <![CDATA[
		select * from (select ROWNUM rnum, aa.* from (select * from LOSTITEM item join LOSTPIC pic on item.LONO = pic.LOPNO where
		LOUID=#{louid}) aa) where rnum between #{paging.startRow} and #{paging.endRow}
		]]>
	</select>
	
	<select id="findList" resultType="FindListVo" parameterType="FindListVo">
		select * from (select ROWNUM rnum, aa.* from (select * from FINDITEM item join FINDPIC pic on item.FINO = pic.FIPNO where
		FIUID=#{fiuid}) aa) where rnum between #{paging.startRow} and #{paging.endRow}
	</select>
	
</mapper>